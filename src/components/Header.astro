---
import Button from "./ui/Button.astro";
---

<!-- Navegación fija arriba -->
<nav class="fixed top-0 left-0 w-full h-16 flex justify-between items-center px-4 sm:px-6 md:px-8 lg:px-16 xl:px-32 bg-white/95 backdrop-blur-sm border-b border-gray-100 z-50">
    <a href="https://www.instagram.com/sugarrbloom.sc?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener noreferrer">
        <img src="/png.png" alt="Logo SugarBloom" class="w-24 md:w-32 lg:w-36" />
    </a>
    
    <!-- Menú desktop -->
    <ul class="hidden md:flex gap-4 lg:gap-6">
        <li>
            <a href="#inicio" class="relative overflow-hidden group text-sm lg:text-base">
                Inicio
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"></span>
            </a>
        </li>
        <li>
            <a href="#nosotros" class="relative overflow-hidden group text-sm lg:text-base">
                Nosotros
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"></span>
            </a>
        </li>
        <li>
            <a href="#galeria" class="relative overflow-hidden group text-sm lg:text-base">
                Galería
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"></span>
            </a>
        </li>
        <li>
            <a href="#servicios" class="relative overflow-hidden group text-sm lg:text-base">
                Servicios
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"></span>
            </a>
        </li>
        <li>
            <a href="#pedidos" class="relative overflow-hidden group text-sm lg:text-base">
                Pedidos
                <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-pink-400 transition-all duration-300 group-hover:w-full"></span>
            </a>
        </li>
    </ul>

    <!-- Menú móvil (hamburger) -->
    <button class="md:hidden p-2" id="mobileMenuBtn" aria-label="Menú móvil">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>
</nav>

<!-- Menú móvil desplegable -->
<div id="mobileMenu" class="fixed top-16 left-0 w-full bg-white/95 backdrop-blur-sm border-b border-gray-100 z-40 hidden">
    <ul class="flex flex-col py-2">
        <li><a href="#inicio" class="block px-4 py-3 hover:bg-pink-50 transition-colors">Inicio</a></li>
        <li><a href="#nosotros" class="block px-4 py-3 hover:bg-pink-50 transition-colors">Nosotros</a></li>
        <li><a href="#galeria" class="block px-4 py-3 hover:bg-pink-50 transition-colors">Galería</a></li>
        <li><a href="#servicios" class="block px-4 py-3 hover:bg-pink-50 transition-colors">Servicios</a></li>
        <li><a href="#pedidos" class="block px-4 py-3 hover:bg-pink-50 transition-colors">Pedidos</a></li>
    </ul>
</div>

<!-- Contenido principal -->

<header class="mt-16 w-full h-[calc(100vh-4rem)] relative overflow-hidden">
    <div class="w-full h-full">
        <!-- Slide 1 -->
        <div id="slide1" class="absolute inset-0 w-full h-full flex items-center justify-center md:items-center md:justify-center opacity-0 transition-opacity duration-500 ease-in-out bg-cover bg-center" style="background-image: url('/wallpaper3.jpg')">
            <div class="absolute inset-0 bg-black/30"></div>
            <div class="text-center w-11/12 sm:max-w-md md:max-w-lg px-4 py-6 sm:px-6 sm:py-8 bg-black/20 rounded-xl backdrop-blur-sm z-10 relative mx-auto mt-16 md:mt-0">
                <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-3 sm:mb-4 drop-shadow-lg">Bienvenidos a SugarBloom</h1>
                <p class="text-white text-sm sm:text-base mb-4 sm:mb-6 drop-shadow">Endulzamos tus momentos más especiales con nuestras creaciones artesanales</p>
                <a href="#pedidos" class="inline-block bg-white text-pink-500 px-4 py-2 sm:px-5 sm:py-2.5 rounded-full font-semibold text-xs sm:text-sm hover:bg-pink-500 hover:text-white transition-all duration-300 shadow-md hover:shadow-lg hover:-translate-y-0.5">Haz tu Pedido</a>
            </div>
        </div>

        <!-- Slide 2 -->
        <div id="slide2" class="absolute inset-0 w-full h-full flex items-center justify-center md:items-center md:justify-center opacity-0 transition-opacity duration-500 ease-in-out bg-cover bg-center" style="background-image: url('wallpaper5.jpg')">
            <div class="absolute inset-0 bg-black/30"></div>
            <div class="text-center w-11/12 sm:max-w-md md:max-w-lg px-4 py-6 sm:px-6 sm:py-8 bg-black/20 rounded-xl backdrop-blur-sm z-10 relative mx-auto mt-16 md:mt-0">
                <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-3 sm:mb-4 drop-shadow-lg">Tortas Personalizadas</h1>
                <p class="text-white text-sm sm:text-base mb-4 sm:mb-6 drop-shadow">Diseños únicos para cada ocasión especial</p>
                <a href="#galeria" class="inline-block bg-white text-pink-500 px-4 py-2 sm:px-5 sm:py-2.5 rounded-full font-semibold text-xs sm:text-sm hover:bg-pink-500 hover:text-white transition-all duration-300 shadow-md hover:shadow-lg hover:-translate-y-0.5">Ver Galería</a>
            </div>
        </div>

        <!-- Slide 3 -->
        <div id="slide3" class="absolute inset-0 w-full h-full flex items-center justify-center md:items-center md:justify-center opacity-0 transition-opacity duration-500 ease-in-out bg-cover bg-center" style="background-image: url('wallpaper4.jpg')">
            <div class="absolute inset-0 bg-black/30"></div>
            <div class="text-center w-11/12 sm:max-w-md md:max-w-lg px-4 py-6 sm:px-6 sm:py-8 bg-black/20 rounded-xl backdrop-blur-sm z-10 relative mx-auto mt-16 md:mt-0">
                <h1 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-3 sm:mb-4 drop-shadow-lg">Mesas Dulces</h1>
                <p class="text-white text-sm sm:text-base mb-4 sm:mb-6 drop-shadow">Perfectas para bodas, cumpleaños y eventos sociales</p>
                <a href="#servicios" class="inline-block bg-white text-pink-500 px-4 py-2 sm:px-5 sm:py-2.5 rounded-full font-semibold text-xs sm:text-sm hover:bg-pink-500 hover:text-white transition-all duration-300 shadow-md hover:shadow-lg hover:-translate-y-0.5">Nuestros Servicios</a>
            </div>
        </div>
    </div>

    <!-- Controles del carrusel -->
    <div class="absolute bottom-4 md:bottom-12 left-1/2 transform -translate-x-1/2 flex gap-6 sm:gap-8 px-4 py-2 z-10 drop-shadow-md">
        <button class="carousel-btn prev w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-full border-2 border-white/80 bg-white/15 text-white text-lg sm:text-xl backdrop-blur-sm transition-all duration-300 hover:bg-white/90 hover:text-pink-500 hover:scale-110 hover:border-white/95 shadow hover:shadow-md">
            ‹
        </button>
        <button class="carousel-btn next w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center rounded-full border-2 border-white/80 bg-white/15 text-white text-lg sm:text-xl backdrop-blur-sm transition-all duration-300 hover:bg-white/90 hover:text-pink-500 hover:scale-110 hover:border-white/95 shadow hover:shadow-md">
            ›
        </button>
    </div>
</header>

<script is:inline>
// Menú móvil
document.addEventListener('DOMContentLoaded', () => {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    
    mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Carrusel
    const slides = [
        document.getElementById('slide1'),
        document.getElementById('slide2'),
        document.getElementById('slide3')
    ];
    const prevBtn = document.querySelector('.carousel-btn.prev');
    const nextBtn = document.querySelector('.carousel-btn.next');
    let currentSlide = 0;
    
    function showSlide(index) {
        slides.forEach((slide, i) => {
            slide.style.opacity = i === index ? '1' : '0';
        });
    }
    
    function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
    }
    
    function previousSlide() {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(currentSlide);
    }
    
    // Configurar eventos de los botones
    nextBtn.addEventListener('click', nextSlide);
    prevBtn.addEventListener('click', previousSlide);
    
    // Mostrar el primer slide al cargar
    showSlide(0);
    
    // Autoavance del carrusel (opcional)
    let slideInterval = setInterval(nextSlide, 5000);
    
    // Pausar al interactuar
    const carousel = document.querySelector('header');
    carousel.addEventListener('mouseenter', () => clearInterval(slideInterval));
    carousel.addEventListener('mouseleave', () => {
        slideInterval = setInterval(nextSlide, 5000);
    });
});
</script>