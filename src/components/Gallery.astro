---
import ProductCard from "./ui/ProductCard.astro"

// Datos de los productos (podría moverse a un archivo aparte para mejor organización)
const products = [
  {
    image: "/galery1.jpeg",
    title: "Postres",
    description: "Delicias dulces con texturas y sabores pensados para enamorar.",
    alt: "Postres",
    message: "Hola! Me gustaría hacer un pedido de postres en Sugarr Bloom, ¿podrías contarme cuáles están disponibles?",
  },
  {
    image: "/gallery2.jpeg",
    title: "Tortas",
    description: "Suaves, esponjosas y con sabores que se disfrutan en cualquier ocasión.",
    alt: "Tortas",
    message: "Hola! Quisiera pedir una torta en Sugarr Bloom y me encantaría conocer las opciones de sabores y tamaños."
  },
  {
    image: "/gallery3.jpeg",
    title: "Tortas Personalizadas",
    description: "Diseños únicos y deliciosos, hechos a la medida de tus momentos especiales.",
    alt: "Tortas Personalizadas",
    message: "Hola! Me interesa encargar una torta personalizada en SugarBloom. Tengo algunas ideas y quisiera saber si pueden ayudarme a crearlas."
  },
  {
    image: "/gallery4.jpeg",
    title: "Postres en shot",
    description: "Presentaciones elegantes con capas irresistibles y mucho sabor.",
    alt: "Postres en shot",
    message: "Hola! Estoy interesado en los postres en shot de SugarBloom. ¿Me puedes contar qué sabores o combinaciones tienen?"

  },
  {
    image: "/gallery5.jpeg",
    title: "Cupcakes",
    description: "Pequeños, encantadores y con todo el sabor que esperas de una buena torta.",
    alt: "Cupcakes",
    message: "Hola! Me gustaría pedir cupcakes en SugarBloom. ¿Qué sabores tienen?"
  },
  {
    image: "/gallery6.jpeg",
    title: "Pies",
    description: "Base crujiente, rellenos cremosos y sabores que encantan en cada bocado.",
    alt: "Pies",
    message: "Hola! Me interesa hacer un pedido de pie en SugarBloom y me gustaría saber qué sabores tienen disponibles."
  },
]
---

<!-- Sección principal -->
<section class="py-12 md:py-20 bg-pink-50 scroll-section" id="galeria">
  <div class="container px-4 sm:px-6 md:px-10 lg:px-20 xl:px-32 2xl:px-48 mx-auto">
    
    <!-- Encabezado -->
    <header class="text-center mb-10 md:mb-14">
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-pink-400 mb-3 sm:mb-4 opacity-0 translate-y-10 transition-all duration-500 ease-out [.in-viewport_&]:opacity-100 [.in-viewport_&]:translate-y-0">
        Nuestra Galería
      </h2>
      <p class="text-lg sm:text-xl md:text-2xl text-gray-700 font-medium opacity-0 translate-y-10 transition-all duration-500 ease-out delay-100 [.in-viewport_&]:opacity-100 [.in-viewport_&]:translate-y-0">
        Descubre nuestras deliciosas creaciones
      </p>
    </header>

    <!-- Grid de productos -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8">
      {products.map((product, index) => (
        <ProductCard
          class:list={[
            'opacity-0 translate-y-10 transition-all duration-700 ease-[cubic-bezier(0.25,0.1,0.25,1)]',
            'hover:scale-[1.02] hover:shadow-xl',
            '[.in-viewport_&]:opacity-100 [.in-viewport_&]:translate-y-0',
            `[.in-viewport_&]:delay-[${index * 100}ms]`
          ]}
          image={product.image}
          title={product.title}
          description={product.description}
          alt={product.alt}
          message={product.message}
          
        />
      ))}
    </div>

    <!-- Separador decorativo -->
    <div class="flex justify-center mt-10 md:mt-14 opacity-0 transition-all duration-500 ease-out delay-700 [.in-viewport_&]:opacity-100">
      <div class="w-20 sm:w-24 h-1 bg-pink-400 rounded-full"></div>
    </div>
  </div>
</section>

<!-- Script de animación -->
<script is:inline>
  document.addEventListener("DOMContentLoaded", () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        entry.target.classList.toggle('in-viewport', entry.isIntersecting);
      });
    }, {
      threshold: 0.05,
      rootMargin: '0px 0px -50px 0px'
    });
    
    document.querySelectorAll('.scroll-section').forEach(section => {
      observer.observe(section);
    });
  });
</script>